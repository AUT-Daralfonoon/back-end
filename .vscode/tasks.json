{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "run main",
            "type": "shell",
            "command": "go",
            "args": [
                "run",
                "main.go",
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}/cmd/darolfonoon/"
            }
        },
        {
            "label": "create migrations",
            "type": "shell",
            "command": "migrate",
            "args": ["create", "-ext", "sql", "-dir", "./Infrastructure/datastore/v1","-seq", "${input:migrationName}"]
        },
        {
            "label": "up migrations - <services>",
            "type": "shell",
            "command": "migrate",
            "args": ["-database", "postgres://postgres:postgres@localhost:5432/darolfonoon?sslmode=disable", "-path", "./Infrastructure/datastore/v1", "up"]
        },
        {
            "label": "down migrations- <services>",
            "type": "shell",
            "command": "migrate",
            "args": ["-database", "postgres://postgres:postgres@localhost:5432/darolfonoon?sslmode=disable", "-path", "./Infrastructure/datastore/v1", "up"]
        }
    ],
    "inputs": [
        {
            "id": "migrationName",
            "description": "File Name for Migrations:",
            "default": "migration_v1",
            "type": "promptString"
        },
    ]
}